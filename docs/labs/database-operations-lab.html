<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Learn how to use Docker MCP servers to interact with databases and perform various database operations through Gordon AI.">
  <meta name="keywords" content="docker, mcp, model, context, protocol, servers, tools, community">
  <title>Lab 3 - Database Operations with MCP Servers - MCP Community Portal</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/assets/images/docker-logo.svg">
  
  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Custom CSS -->
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/tools.css">
  <link rel="stylesheet" href="/assets/css/home.css">
  <link rel="stylesheet" href="/assets/css/lab-styles.css">
  <link rel="stylesheet" href="/assets/css/code-fix.css">
  <link rel="stylesheet" href="/assets/css/banner-fix.css">
  <link rel="stylesheet" href="/assets/css/image-fix.css">
  <link rel="stylesheet" href="/assets/css/heading-fix.css">
  <link rel="stylesheet" href="/assets/css/header-fix.css">
  
  <!-- Syntax Highlighting -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
  
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Lab 3 - Database Operations with MCP Servers | MCP Community Portal</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="Lab 3 - Database Operations with MCP Servers" />
<meta name="author" content="Docker Team" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Learn how to use Docker MCP servers to interact with databases and perform various database operations through Gordon AI." />
<meta property="og:description" content="Learn how to use Docker MCP servers to interact with databases and perform various database operations through Gordon AI." />
<link rel="canonical" href="https://ajeetraina.github.io/docs/labs/database-operations-lab.html" />
<meta property="og:url" content="https://ajeetraina.github.io/docs/labs/database-operations-lab.html" />
<meta property="og:site_name" content="MCP Community Portal" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Lab 3 - Database Operations with MCP Servers" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Docker Team"},"description":"Learn how to use Docker MCP servers to interact with databases and perform various database operations through Gordon AI.","headline":"Lab 3 - Database Operations with MCP Servers","url":"https://ajeetraina.github.io/docs/labs/database-operations-lab.html"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body>
  <header class="site-header">
  <div class="container">
    <div class="header-content">
      <div class="logo">
        <a href="/">
          <h1>MCP Community Portal</h1>
        </a>
      </div>
      <nav class="main-nav">
        <ul>
          <li><a href="/"><i class="fas fa-home"></i> Home</a></li>
          <li><a href="/servers-table.html"><i class="fas fa-server"></i> Servers</a></li>
          <li><a href="/tools.html"><i class="fas fa-tools"></i> Tools</a></li>
          <li><a href="/docs/labs-and-tutorials"><i class="fas fa-flask"></i> Labs</a></li>
          <li>
            <a href="/docs/ask-gordon">
              <i class="fas fa-robot"></i> Ask Gordon
              <span class="new-badge">NEW</span>
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</header>

<style>
.new-badge {
  display: inline-block;
  background-color: #FF5722;
  color: white;
  font-size: 0.7rem;
  font-weight: bold;
  padding: 0.15rem 0.4rem;
  border-radius: 3px;
  margin-left: 6px;
  vertical-align: middle;
  animation: pulse 1.5s infinite;
}

@keyframes pulse {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
  100% {
    opacity: 1;
  }
}
</style>
  
  <main>
    <link rel="stylesheet" href="/assets/css/lab-styles.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

<div class="lab-container">
  <div class="lab-header">
    <h1>Lab 3 - Database Operations with MCP Servers</h1>
    <div class="lab-description">Learn how to use Docker MCP servers to interact with databases and perform various database operations through Gordon AI.</div>
  </div>

  <div class="lab-meta">
    
    <div class="lab-meta-item">
      <i class="fas fa-signal"></i>
      <span class="lab-meta-label">Difficulty:</span>
      <span>Intermediate</span>
    </div>
    
    
    
    <div class="lab-meta-item">
      <i class="far fa-clock"></i>
      <span class="lab-meta-label">Time to complete:</span>
      <span>60 minutes</span>
    </div>
    
    
    
    <div class="lab-meta-item">
      <i class="fas fa-user"></i>
      <span class="lab-meta-label">Author:</span>
      <span>Docker Team</span>
    </div>
    
    
    
    <div class="lab-meta-item">
      <i class="fas fa-calendar-alt"></i>
      <span class="lab-meta-label">Last updated:</span>
      <span>March 18, 2025</span>
    </div>
    
  </div>

  <div class="lab-prerequisites">
  <h2><i class="fas fa-clipboard-list"></i> Prerequisites</h2>
  <ul>
    <li>Completion of <a href="/docs/labs/mcp-101-lab">Lab 1: First Steps with Docker MCP Servers</a></li>
    <li>Docker Desktop installed</li>
    <li>Basic SQL knowledge</li>
  </ul>
</div>

<div class="learning-objectives">
  <h2><i class="fas fa-graduation-cap"></i> Learning Objectives</h2>
  <ol>
    <li>Configure MCP servers to work with both SQLite and PostgreSQL databases</li>
    <li>Perform complex database operations via natural language requests</li>
    <li>Understand the security implications of database access via MCP</li>
    <li>Create data analysis workflows combining multiple MCP servers</li>
  </ol>
</div>

<div class="lab-step">
  <div class="lab-step-header">
    <i class="fas fa-play-circle"></i> Step 1: Setting Up Your Environment
  </div>
  <div class="lab-step-content">
    <p>Create a new directory for your database lab:</p>

```bash
mkdir mcp-db-lab
cd mcp-db-lab
mkdir data
```
  </div>
</div>

<div class="lab-step">
  <div class="lab-step-header">
    <i class="fas fa-database"></i> Step 2: Create a Sample SQLite Database
  </div>
  <div class="lab-step-content">
    <p>First, let's create a SQL script to initialize our database:</p>

```bash
cat &lt;&lt; EOF &gt; data/init.sql
CREATE TABLE employees (
    id INTEGER PRIMARY KEY,
    name TEXT NOT NULL,
    department TEXT NOT NULL,
    salary REAL NOT NULL,
    hire_date TEXT NOT NULL
);

INSERT INTO employees (name, department, salary, hire_date) VALUES
('John Doe', 'Engineering', 85000, '2020-03-15'),
('Jane Smith', 'Marketing', 75000, '2019-11-01'),
('Bob Johnson', 'Engineering', 92000, '2018-05-20'),
('Alice Williams', 'HR', 65000, '2021-01-10'),
('Charlie Brown', 'Marketing', 78000, '2020-09-05'),
('David Miller', 'Engineering', 115000, '2015-07-12'),
('Emily Davis', 'Finance', 95000, '2017-04-22'),
('Frank Wilson', 'HR', 68000, '2019-08-30'),
('Grace Lee', 'Engineering', 105000, '2016-11-15'),
('Henry Taylor', 'Finance', 88000, '2018-06-03');

CREATE TABLE departments (
    id INTEGER PRIMARY KEY,
    name TEXT NOT NULL,
    budget REAL NOT NULL,
    location TEXT NOT NULL
);

INSERT INTO departments (name, budget, location) VALUES
('Engineering', 1500000, 'Building A'),
('Marketing', 800000, 'Building B'),
('HR', 400000, 'Building A'),
('Finance', 950000, 'Building C');

CREATE TABLE projects (
    id INTEGER PRIMARY KEY,
    name TEXT NOT NULL,
    start_date TEXT NOT NULL,
    end_date TEXT,
    department_id INTEGER,
    FOREIGN KEY (department_id) REFERENCES departments(id)
);

INSERT INTO projects (name, start_date, end_date, department_id) VALUES
('Website Redesign', '2023-01-15', '2023-06-30', 2),
('Cloud Migration', '2023-02-01', NULL, 1),
('Budget Analysis', '2023-03-10', '2023-04-15', 4),
('Hiring Campaign', '2023-02-20', '2023-05-10', 3),
('Mobile App', '2022-11-01', NULL, 1);

CREATE TABLE employee_projects (
    employee_id INTEGER,
    project_id INTEGER,
    role TEXT NOT NULL,
    PRIMARY KEY (employee_id, project_id),
    FOREIGN KEY (employee_id) REFERENCES employees(id),
    FOREIGN KEY (project_id) REFERENCES projects(id)
);

INSERT INTO employee_projects (employee_id, project_id, role) VALUES
(1, 2, 'Developer'),
(1, 5, 'Lead Developer'),
(2, 1, 'Project Manager'),
(3, 2, 'DevOps Engineer'),
(3, 5, 'Developer'),
(4, 4, 'Coordinator'),
(5, 1, 'Content Creator'),
(6, 2, 'Architect'),
(7, 3, 'Analyst'),
(8, 4, 'Recruiter'),
(9, 5, 'Developer'),
(10, 3, 'Supervisor');
EOF
```
  </div>
</div>

<div class="lab-step">
  <div class="lab-step-header">
    <i class="fas fa-cogs"></i> Step 3: Configure MCP Servers for Database Operations
  </div>
  <div class="lab-step-content">
    <p>Create a <code>gordon-mcp.yml</code> file with SQLite MCP server configuration:</p>

```yaml
services:
  sqlite:
    image: mcp/sqlite
    volumes:
      - ./data:/data
  
  fs:
    image: mcp/filesystem
    command:
      - /rootfs
    volumes:
      - ./data:/rootfs/data
      - ./:/rootfs/output
```

    <p>This configuration sets up two MCP servers:</p>
    <ul>
      <li>A SQLite server that can interact with SQLite databases</li>
      <li>A filesystem server that gives access to our data directory</li>
    </ul>
  </div>
</div>

<div class="lab-step">
  <div class="lab-step-header">
    <i class="fas fa-database"></i> Step 4: Basic SQLite Database Operations
  </div>
  <div class="lab-step-content">
    <p>Let's start with some basic SQLite operations:</p>

```bash
# Initialize the database
docker ai "Create a new SQLite database called 'company.db' in the data directory and run the SQL commands from the init.sql file to set it up."
```

    <p>You should see Gordon AI using the SQLite MCP server to create the database. Now let's try some queries:</p>

```bash
# Basic query
docker ai "Query the company database and list all employees in the Engineering department with their salaries."
```

    <p>You should see a list of employees in the Engineering department. Let's try a more complex query:</p>

```bash
# More complex query
docker ai "Find the average salary by department and identify which department has the highest average salary. Format the results as a markdown table."
```

    <div class="lab-tip">
      <h4><i class="fas fa-lightbulb"></i> Tip</h4>
      <p>You can ask Gordon AI to format results in various ways, such as tables, lists, or even generate visualizations with descriptions.</p>
    </div>
  </div>
</div>

<div class="lab-step">
  <div class="lab-step-header">
    <i class="fas fa-server"></i> Step 5: Set Up PostgreSQL for Advanced Operations
  </div>
  <div class="lab-step-content">
    <p>For more advanced database operations, let's add PostgreSQL to our environment. First, we'll start a PostgreSQL container with our sample data:</p>

```bash
# Start a PostgreSQL container
docker run -d \
  --name postgres-mcp-lab \
  -e POSTGRES_PASSWORD=labpassword \
  -e POSTGRES_USER=labuser \
  -e POSTGRES_DB=company \
  -p 5432:5432 \
  postgres:14
```

    <p>Now, update your <code>gordon-mcp.yml</code> file to include the PostgreSQL MCP server:</p>

```yaml
services:
  sqlite:
    image: mcp/sqlite
    volumes:
      - ./data:/data
  
  fs:
    image: mcp/filesystem
    command:
      - /rootfs
    volumes:
      - ./data:/rootfs/data
      - ./:/rootfs/output
  
  postgres:
    image: mcp/postgres
    command: postgresql://labuser:labpassword@host.docker.internal:5432/company
```

    <p>Initialize our PostgreSQL database with the same schema:</p>

```bash
docker ai "Connect to the PostgreSQL database and create the same schema as in our SQLite database. Use the init.sql file as reference. Then confirm the tables were created correctly."
```
  </div>
</div>

<div class="lab-step">
  <div class="lab-step-header">
    <i class="fas fa-chart-bar"></i> Step 6: Advanced Database Operations
  </div>
  <div class="lab-step-content">
    <p>Now let's perform more complex database tasks:</p>

    <h3>Task 1: Cross-Database Analysis</h3>

```bash
docker ai "Compare the schema between our SQLite database and PostgreSQL database. Are there any differences? Which database would you recommend for our company data and why?"
```

    <h3>Task 2: Data Analysis and Reporting</h3>

```bash
docker ai "Analyze the employee and project data in the PostgreSQL database. Which employees are working on multiple projects? Create a report showing the workload distribution across departments. Save the report as a markdown file called workload_analysis.md."
```

    <h3>Task 3: Database Schema Improvements</h3>

```bash
docker ai "Suggest improvements to our database schema. What indexes, constraints, or additional tables would you recommend? Create a SQL script with your recommendations and save it to output/schema_improvements.sql."
```

    <div class="lab-note">
      <h4><i class="fas fa-info-circle"></i> Understanding MCP Database Operations</h4>
      <p>When you ask Gordon AI to perform database operations:</p>
      <ol>
        <li>Gordon identifies the task requires database interaction</li>
        <li>It selects the appropriate MCP server (SQLite or PostgreSQL)</li>
        <li>The MCP server translates natural language into SQL queries</li>
        <li>Results are returned and formatted according to your request</li>
      </ol>
      <p>This powerful abstraction allows non-technical users to interact with databases using natural language.</p>
    </div>
  </div>
</div>

<div class="lab-step">
  <div class="lab-step-header">
    <i class="fas fa-code"></i> Step 7: Building a Database Dashboard
  </div>
  <div class="lab-step-content">
    <p>For a more advanced exercise, let's create a simple dashboard for our data:</p>

```bash
docker ai "Create an HTML dashboard that shows key metrics from our company database, including department budgets, employee salary distributions, and project statuses. Use JavaScript for any interactive elements. Save the dashboard to output/company_dashboard.html."
```

    <p>Once the dashboard is created, you can open it in your browser:</p>

```bash
# On macOS
open output/company_dashboard.html

# On Linux
xdg-open output/company_dashboard.html

# On Windows
start output/company_dashboard.html
```
  </div>
</div>

<div class="lab-step">
  <div class="lab-step-header">
    <i class="fas fa-shield-alt"></i> Step 8: Database Security Considerations
  </div>
  <div class="lab-step-content">
    <p>It's important to understand the security implications of using MCP servers with databases. Here are some best practices:</p>

    <ol>
      <li><strong>Connection Strings</strong>: Never expose database credentials in public repositories</li>
      <li><strong>Access Control</strong>: Use read-only connections when only queries are needed</li>
      <li><strong>Container Networks</strong>: Consider using Docker networks to isolate database containers</li>
      <li><strong>Volume Mounting</strong>: Be careful about what directories you mount to containers</li>
    </ol>

    <p>Let's implement a more secure configuration by creating a Docker network and updating our setup:</p>

```bash
# Create a Docker network
docker network create mcp-db-network

# Stop and remove the existing PostgreSQL container
docker stop postgres-mcp-lab
docker rm postgres-mcp-lab

# Start PostgreSQL with the new network
docker run -d \
  --name postgres-mcp-lab \
  --network mcp-db-network \
  -e POSTGRES_PASSWORD=labpassword \
  -e POSTGRES_USER=labuser \
  -e POSTGRES_DB=company \
  postgres:14
```

    <p>Create a new <code>secure-gordon-mcp.yml</code> file:</p>

```yaml
services:
  sqlite:
    image: mcp/sqlite
    volumes:
      - ./data:/data:ro  # Read-only access
  
  fs:
    image: mcp/filesystem
    command:
      - /rootfs
    volumes:
      - ./data:/rootfs/data:ro  # Read-only access to data
      - ./output:/rootfs/output:rw  # Write access only to output
  
  postgres:
    image: mcp/postgres
    command: postgresql://labuser:labpassword@postgres-mcp-lab:5432/company
    networks:
      - mcp-db-network

networks:
  mcp-db-network:
    external: true
    name: mcp-db-network
```

    <p>Let's test our secure configuration:</p>

```bash
docker ai --file secure-gordon-mcp.yml "Query the PostgreSQL database to find the highest paid employee in each department."
```
  </div>
</div>

<div class="lab-tip">
  <h4><i class="fas fa-lightbulb"></i> Advanced Database Tips</h4>
  <ul>
    <li><strong>Performance Optimization</strong>: Ask Gordon AI to generate database indexes for better performance</li>
    <li><strong>Data Migration</strong>: Use MCP servers to help migrate data between different database systems</li>
    <li><strong>Query Generation</strong>: Have Gordon AI generate complex queries that you can reuse in your applications</li>
    <li><strong>Documentation</strong>: Ask for database documentation to be generated automatically</li>
  </ul>
</div>

<div class="lab-note">
  <h4><i class="fas fa-exclamation-triangle"></i> Troubleshooting</h4>
  <ul>
    <li>If PostgreSQL connections fail, ensure the host.docker.internal resolution is working</li>
    <li>For SQLite issues, check file permissions on the data directory</li>
    <li>If queries return unexpected results, verify the database schema and data</li>
  </ul>
</div>

<div class="lab-conclusion">
  <h2><i class="fas fa-flag-checkered"></i> Conclusion</h2>
  <p>Congratulations! You've successfully learned how to use Docker MCP servers to interact with databases. You've seen how Gordon AI can translate natural language into SQL queries, perform complex data analysis, and generate reports and visualizations.</p>
  <p>This powerful capability allows team members with varying levels of technical expertise to work with databases effectively, democratizing access to data while maintaining security and control.</p>
</div>

<div class="next-steps">
  <h2><i class="fas fa-arrow-circle-right"></i> Next Steps</h2>
  <p>Now that you've mastered database operations with MCP, you can continue your learning journey with:</p>
  <ul>
    <li><a href="/docs/labs/production-deployment-lab">Lab 4: Deploying MCP Servers to Production</a> - Learn how to deploy your MCP servers in a production environment</li>
    <li><a href="/docs/tutorials/custom-mcp-server">Tutorial: Building Custom MCP Servers</a> - Create your own specialized MCP servers</li>
  </ul>
</div>


  <div class="lab-nav">
    
    <a href="/docs/labs/research-assistant-lab" class="lab-nav-button lab-nav-prev">
      <i class="fas fa-arrow-left"></i> Previous Lab
    </a>
    
    
    
    <a href="/docs/labs/production-deployment-lab" class="lab-nav-button lab-nav-next">
      Next Lab <i class="fas fa-arrow-right"></i>
    </a>
    
  </div>
</div>

<script>
  // Add copy buttons to code blocks
  document.addEventListener('DOMContentLoaded', function() {
    const codeBlocks = document.querySelectorAll('pre');
    codeBlocks.forEach(function(codeBlock, index) {
      // Create code header
      const header = document.createElement('div');
      header.className = 'code-header';
      
      // Add file name or code type if available
      const code = codeBlock.querySelector('code');
      let language = '';
      if (code && code.className) {
        const classes = code.className.split(' ');
        for (const cls of classes) {
          if (cls.startsWith('language-')) {
            language = cls.replace('language-', '');
            break;
          }
        }
      }
      
      header.innerHTML = `<span>${language || 'bash'}</span>`;
      
      // Add copy button
      const button = document.createElement('button');
      button.className = 'copy-button';
      button.innerHTML = '<i class="far fa-copy"></i> Copy';
      button.addEventListener('click', function() {
        const text = codeBlock.querySelector('code').innerText;
        navigator.clipboard.writeText(text).then(function() {
          button.innerHTML = '<i class="fas fa-check"></i> Copied!';
          setTimeout(function() {
            button.innerHTML = '<i class="far fa-copy"></i> Copy';
          }, 2000);
        });
      });
      
      header.appendChild(button);
      codeBlock.parentNode.insertBefore(header, codeBlock);
    });
  });
</script>

  </main>
  
  <footer class="site-footer">
  <div class="container">
    <div class="footer-content">
      <div class="footer-info">
        <h3>Docker MCP Community Portal</h3>
        <p>A community-driven resource for Docker Model Context Protocol.</p>
        <p>&copy; 2025 MCP Community Portal. All rights reserved.</p>
      </div>
      <div class="footer-links">
        <h4>Resources</h4>
        <ul>
          <li>
            <a href="https://github.com/ajeetraina/docker-mcp-portal" target="_blank">
              <i class="fab fa-github"></i> GitHub Repository
            </a>
          </li>
          <li>
            <a href="https://collabnix.com" target="_blank">
              <i class="fas fa-globe"></i> Collabnix Community
            </a>
          </li>
          <li>
            <a href="https://github.com/ajeetraina/docker-mcp-portal/blob/main/CONTRIBUTING.md" target="_blank">
              <i class="fas fa-code-branch"></i> Contribute to MCP Portal
            </a>
          </li>
          <li>
            <a href="https://hub.docker.com/u/mcp" target="_blank">
              <i class="fab fa-docker"></i> MCP on Docker Hub
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</footer>
  
  <!-- ClipboardJS for copy functionality -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.10/clipboard.min.js"></script>
  
  <!-- Syntax highlighting -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
  
  <!-- Custom scripts -->
  <script src="/assets/js/filter.js"></script>
  <script src="/assets/js/code-formatter.js"></script>
  
  <script>
    // Initialize clipboard.js
    document.addEventListener('DOMContentLoaded', function() {
      var clipboard = new ClipboardJS('.btn-copy');
      
      clipboard.on('success', function(e) {
        var button = e.trigger;
        var originalText = button.innerHTML;
        
        button.innerHTML = '<i class="fas fa-check"></i> Copied!';
        button.classList.add('copied');
        
        setTimeout(function() {
          button.innerHTML = originalText;
          button.classList.remove('copied');
        }, 2000);
        
        e.clearSelection();
      });
      
      // Initialize syntax highlighting
      document.querySelectorAll('pre code').forEach((el) => {
        hljs.highlightElement(el);
      });
    });
  </script>
</body>
</html>