<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="A community-driven collection of Docker Model Context Protocol (MCP) servers, tools, and resources.">
  <meta name="keywords" content="docker, mcp, model, context, protocol, servers, tools, community">
  <title>Docker MCP Community Portal</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/assets/images/docker-mcp-logo.svg">
  
  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Custom CSS -->
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/tools.css">
  <link rel="stylesheet" href="/assets/css/home.css">
  
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Docker MCP Community Portal | A community-driven collection of Docker Model Context Protocol servers</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="Docker MCP Community Portal" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A community-driven collection of Docker Model Context Protocol servers" />
<meta property="og:description" content="A community-driven collection of Docker Model Context Protocol servers" />
<link rel="canonical" href="https://ajeetraina.github.io/docs/labs/database-operations-lab.html" />
<meta property="og:url" content="https://ajeetraina.github.io/docs/labs/database-operations-lab.html" />
<meta property="og:site_name" content="Docker MCP Community Portal" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Docker MCP Community Portal" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"A community-driven collection of Docker Model Context Protocol servers","headline":"Docker MCP Community Portal","url":"https://ajeetraina.github.io/docs/labs/database-operations-lab.html"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body>
  <header class="site-header">
  <div class="container">
    <div class="header-content">
      <div class="logo">
        <a href="/">
          <img src="/assets/images/docker-logo.svg" alt="Docker Logo">
          <h1>Docker MCP Community Portal</h1>
        </a>
      </div>
      <nav class="main-nav">
        <ul>
          <li><a href="/"><i class="fas fa-home"></i> Home</a></li>
          <li><a href="/servers-table.html"><i class="fas fa-server"></i> Servers</a></li>
          <li><a href="/tools.html"><i class="fas fa-tools"></i> Tools</a></li>
          <li><a href="/docs/labs-and-tutorials"><i class="fas fa-flask"></i> Labs</a></li>
          <li>
            <a href="/docs/ask-gordon">
              <i class="fas fa-robot"></i> Ask Gordon
              <span class="new-badge">NEW</span>
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</header>

<style>
.new-badge {
  display: inline-block;
  background-color: #FF5722;
  color: white;
  font-size: 0.7rem;
  font-weight: bold;
  padding: 0.15rem 0.4rem;
  border-radius: 3px;
  margin-left: 6px;
  vertical-align: middle;
  animation: pulse 1.5s infinite;
}

@keyframes pulse {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
  100% {
    opacity: 1;
  }
}
</style>
  
  <main>
    <h1 id="lab-3-database-operations-with-mcp-servers">Lab 3: Database Operations with MCP Servers</h1>

<p>In this hands-on lab, you’ll learn how to use Docker MCP servers to interact with databases. You’ll configure and use both SQLite and PostgreSQL MCP servers to perform various database operations through Gordon AI.</p>

<p><strong>Time to complete:</strong> 60 minutes</p>

<p><strong>Prerequisites:</strong></p>
<ul>
  <li>Completion of <a href="/docs/labs/mcp-101-lab">Lab 1: First Steps with Docker MCP Servers</a></li>
  <li>Docker Desktop installed</li>
  <li>Basic SQL knowledge</li>
</ul>

<h2 id="learning-objectives">Learning Objectives</h2>

<p>By the end of this lab, you’ll be able to:</p>
<ol>
  <li>Configure MCP servers to work with both SQLite and PostgreSQL databases</li>
  <li>Perform complex database operations via natural language requests</li>
  <li>Understand the security implications of database access via MCP</li>
  <li>Create data analysis workflows combining multiple MCP servers</li>
</ol>

<h2 id="step-1-setting-up-your-environment">Step 1: Setting Up Your Environment</h2>

<p>Create a new directory for your database lab:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir </span>mcp-db-lab
<span class="nb">cd </span>mcp-db-lab
<span class="nb">mkdir </span>data
</code></pre></div></div>

<h2 id="step-2-create-a-sample-sqlite-database">Step 2: Create a Sample SQLite Database</h2>

<p>First, let’s create a sample database for our exercises:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Create a SQL script to initialize our database</span>
<span class="nb">cat</span> <span class="o">&lt;&lt;</span> <span class="no">EOF</span><span class="sh"> &gt; data/init.sql
CREATE TABLE employees (
    id INTEGER PRIMARY KEY,
    name TEXT NOT NULL,
    department TEXT NOT NULL,
    salary REAL NOT NULL,
    hire_date TEXT NOT NULL
);

INSERT INTO employees (name, department, salary, hire_date) VALUES
('John Doe', 'Engineering', 85000, '2020-03-15'),
('Jane Smith', 'Marketing', 75000, '2019-11-01'),
('Bob Johnson', 'Engineering', 92000, '2018-05-20'),
('Alice Williams', 'HR', 65000, '2021-01-10'),
('Charlie Brown', 'Marketing', 78000, '2020-09-05'),
('David Miller', 'Engineering', 115000, '2015-07-12'),
('Emily Davis', 'Finance', 95000, '2017-04-22'),
('Frank Wilson', 'HR', 68000, '2019-08-30'),
('Grace Lee', 'Engineering', 105000, '2016-11-15'),
('Henry Taylor', 'Finance', 88000, '2018-06-03');

CREATE TABLE departments (
    id INTEGER PRIMARY KEY,
    name TEXT NOT NULL,
    budget REAL NOT NULL,
    location TEXT NOT NULL
);

INSERT INTO departments (name, budget, location) VALUES
('Engineering', 1500000, 'Building A'),
('Marketing', 800000, 'Building B'),
('HR', 400000, 'Building A'),
('Finance', 950000, 'Building C');

CREATE TABLE projects (
    id INTEGER PRIMARY KEY,
    name TEXT NOT NULL,
    start_date TEXT NOT NULL,
    end_date TEXT,
    department_id INTEGER,
    FOREIGN KEY (department_id) REFERENCES departments(id)
);

INSERT INTO projects (name, start_date, end_date, department_id) VALUES
('Website Redesign', '2023-01-15', '2023-06-30', 2),
('Cloud Migration', '2023-02-01', NULL, 1),
('Budget Analysis', '2023-03-10', '2023-04-15', 4),
('Hiring Campaign', '2023-02-20', '2023-05-10', 3),
('Mobile App', '2022-11-01', NULL, 1);

CREATE TABLE employee_projects (
    employee_id INTEGER,
    project_id INTEGER,
    role TEXT NOT NULL,
    PRIMARY KEY (employee_id, project_id),
    FOREIGN KEY (employee_id) REFERENCES employees(id),
    FOREIGN KEY (project_id) REFERENCES projects(id)
);

INSERT INTO employee_projects (employee_id, project_id, role) VALUES
(1, 2, 'Developer'),
(1, 5, 'Lead Developer'),
(2, 1, 'Project Manager'),
(3, 2, 'DevOps Engineer'),
(3, 5, 'Developer'),
(4, 4, 'Coordinator'),
(5, 1, 'Content Creator'),
(6, 2, 'Architect'),
(7, 3, 'Analyst'),
(8, 4, 'Recruiter'),
(9, 5, 'Developer'),
(10, 3, 'Supervisor');
</span><span class="no">EOF
</span></code></pre></div></div>

<h2 id="step-3-configure-mcp-servers-for-database-operations">Step 3: Configure MCP Servers for Database Operations</h2>

<p>Create a <code class="language-plaintext highlighter-rouge">gordon-mcp.yml</code> file with SQLite MCP server configuration:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">services</span><span class="pi">:</span>
  <span class="na">sqlite</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">mcp/sqlite</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">./data:/data</span>
  
  <span class="na">fs</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">mcp/filesystem</span>
    <span class="na">command</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">/rootfs</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">./data:/rootfs/data</span>
      <span class="pi">-</span> <span class="s">./:/rootfs/output</span>
</code></pre></div></div>

<h2 id="step-4-basic-sqlite-database-operations">Step 4: Basic SQLite Database Operations</h2>

<p>Let’s start with some basic SQLite operations:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Initialize the database</span>
docker ai <span class="s2">"Create a new SQLite database called 'company.db' in the data directory and run the SQL commands from the init.sql file to set it up."</span>

<span class="c"># Basic query</span>
docker ai <span class="s2">"Query the company database and list all employees in the Engineering department with their salaries."</span>

<span class="c"># More complex query</span>
docker ai <span class="s2">"Find the average salary by department and identify which department has the highest average salary. Format the results as a markdown table."</span>
</code></pre></div></div>

<h2 id="step-5-set-up-postgresql-for-advanced-operations">Step 5: Set Up PostgreSQL for Advanced Operations</h2>

<p>For more advanced database operations, let’s add PostgreSQL to our environment.</p>

<p>First, we’ll create a PostgreSQL container with our sample data:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Start a PostgreSQL container</span>
docker run <span class="nt">-d</span> <span class="se">\</span>
  <span class="nt">--name</span> postgres-mcp-lab <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">POSTGRES_PASSWORD</span><span class="o">=</span>labpassword <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">POSTGRES_USER</span><span class="o">=</span>labuser <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">POSTGRES_DB</span><span class="o">=</span>company <span class="se">\</span>
  <span class="nt">-p</span> 5432:5432 <span class="se">\</span>
  postgres:14
</code></pre></div></div>

<p>Now, update your <code class="language-plaintext highlighter-rouge">gordon-mcp.yml</code> file to include the PostgreSQL MCP server:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">services</span><span class="pi">:</span>
  <span class="na">sqlite</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">mcp/sqlite</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">./data:/data</span>
  
  <span class="na">fs</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">mcp/filesystem</span>
    <span class="na">command</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">/rootfs</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">./data:/rootfs/data</span>
      <span class="pi">-</span> <span class="s">./:/rootfs/output</span>
  
  <span class="na">postgres</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">mcp/postgres</span>
    <span class="na">command</span><span class="pi">:</span> <span class="s">postgresql://labuser:labpassword@host.docker.internal:5432/company</span>
</code></pre></div></div>

<p>Now let’s initialize our PostgreSQL database:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker ai <span class="s2">"Connect to the PostgreSQL database and create the same schema as in our SQLite database. Use the init.sql file as reference. Then confirm the tables were created correctly."</span>
</code></pre></div></div>

<h2 id="step-6-advanced-database-operations">Step 6: Advanced Database Operations</h2>

<p>Now let’s perform more complex database tasks:</p>

<h3 id="task-1-cross-database-analysis">Task 1: Cross-Database Analysis</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker ai <span class="s2">"Compare the schema between our SQLite database and PostgreSQL database. Are there any differences? Which database would you recommend for our company data and why?"</span>
</code></pre></div></div>

<h3 id="task-2-data-analysis-and-reporting">Task 2: Data Analysis and Reporting</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker ai <span class="s2">"Analyze the employee and project data in the PostgreSQL database. Which employees are working on multiple projects? Create a report showing the workload distribution across departments. Save the report as a markdown file called workload_analysis.md."</span>
</code></pre></div></div>

<h3 id="task-3-database-schema-improvements">Task 3: Database Schema Improvements</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker ai <span class="s2">"Suggest improvements to our database schema. What indexes, constraints, or additional tables would you recommend? Create a SQL script with your recommendations and save it to output/schema_improvements.sql."</span>
</code></pre></div></div>

<h2 id="step-7-building-a-database-dashboard-advanced">Step 7: Building a Database Dashboard (Advanced)</h2>

<p>For a more advanced exercise, let’s create a simple dashboard for our data:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker ai <span class="s2">"Create an HTML dashboard that shows key metrics from our company database, including department budgets, employee salary distributions, and project statuses. Use JavaScript for any interactive elements. Save the dashboard to output/company_dashboard.html."</span>
</code></pre></div></div>

<h2 id="database-security-considerations">Database Security Considerations</h2>

<p>When working with MCP servers and databases, keep these security best practices in mind:</p>

<ol>
  <li><strong>Connection Strings</strong>: Never expose database credentials in public repositories</li>
  <li><strong>Access Control</strong>: Use read-only connections when only queries are needed</li>
  <li><strong>Container Networks</strong>: Consider using Docker networks to isolate database containers</li>
  <li><strong>Volume Mounting</strong>: Be careful about what directories you mount to containers</li>
</ol>

<h2 id="troubleshooting">Troubleshooting</h2>

<ul>
  <li>If PostgreSQL connections fail, ensure the host.docker.internal resolution is working</li>
  <li>For SQLite issues, check file permissions on the data directory</li>
  <li>If queries return unexpected results, verify the database schema and data</li>
</ul>

<h2 id="next-steps">Next Steps</h2>

<p>Congratulations on completing the database operations lab! Continue your learning with:</p>

<ul>
  <li><a href="/docs/tutorials/custom-mcp-server">Tutorial: Building Custom MCP Servers</a></li>
  <li><a href="/docs/labs/production-deployment-lab">Lab 4: Deploying MCP Servers to Production</a></li>
</ul>

  </main>
  
  <footer class="site-footer">
  <div class="container">
    <div class="footer-content">
      <div class="footer-info">
        <h3>Docker MCP Community Portal</h3>
        <p>A community-driven resource for Docker Model Context Protocol.</p>
        <p>&copy; 2025 Docker MCP Community Portal. All rights reserved.</p>
      </div>
      <div class="footer-links">
        <h4>Resources</h4>
        <ul>
          <li>
            <a href="https://github.com/ajeetraina/docker-mcp-portal" target="_blank">
              <i class="fab fa-github"></i> GitHub Repository
            </a>
          </li>
          <li>
            <a href="https://collabnix.com" target="_blank">
              <i class="fas fa-globe"></i> Collabnix Community
            </a>
          </li>
          <li>
            <a href="https://github.com/ajeetraina/docker-mcp-portal/blob/main/CONTRIBUTING.md" target="_blank">
              <i class="fas fa-code-branch"></i> Contribute to MCP Portal
            </a>
          </li>
          <li>
            <a href="https://hub.docker.com/u/mcp" target="_blank">
              <i class="fab fa-docker"></i> MCP on Docker Hub
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</footer>
  
  <!-- ClipboardJS for copy functionality -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.10/clipboard.min.js"></script>
  
  <!-- Custom scripts -->
  <script src="/assets/js/filter.js"></script>
  
  <script>
    // Initialize clipboard.js
    document.addEventListener('DOMContentLoaded', function() {
      var clipboard = new ClipboardJS('.btn-copy');
      
      clipboard.on('success', function(e) {
        var button = e.trigger;
        var originalText = button.innerHTML;
        
        button.innerHTML = '<i class="fas fa-check"></i> Copied!';
        button.classList.add('copied');
        
        setTimeout(function() {
          button.innerHTML = originalText;
          button.classList.remove('copied');
        }, 2000);
        
        e.clearSelection();
      });
    });
  </script>
</body>
</html>